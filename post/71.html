
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jrh7qB1kgowvnvE0P3KqlhI-iNmw9CvGJF4dQsaCTAk" />
    <meta name="naver-site-verification" content="6fe49ccdb8613221b89ae2d580300c63a91af446" />
    
    
<link rel="icon" href="https://lazyDev500.github.io/assets/img/bDev.ico">
<link rel="stylesheet" href="https://lazyDev500.github.io/assets/markdown.css">
<link rel="stylesheet" href="https://lazyDev500.github.io/assets/skin.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

<style>
    #p-71 {
        color: rgb(76, 193, 237) !important;
    }
</style>
<script id="data" type="application/json">
{
    "fold": ["5","51"]
}
</script>

<script src="https://lazyDev500.github.io/assets/skin.js"></script>
    

    <title>4. 블로그 만들기 - 목차</title>
</head>

<body>
    <div id="wrapper">
        <!-- side bar component -->
        <div id="head-bar">
            <img id="openNavi" class="img"
                src="https://lazyDev500.github.io/assets/img/profile.jpeg"
                alt="" srcset="">
            <div class="title">심심한 개발자의 취미생활</div>
        </div>
        <div id="side-bar">
            <img id="closeNavi" class="close"
                src="https://lazyDev500.github.io/assets/img/close.svg"
                alt="" srcset="">
            <div class="profile">
                <img class="img" src="https://lazyDev500.github.io/assets/img/profile.jpeg" alt="" srcset="">
                <p>심심한 개발자의 취미생활</p>
                <p>환영합니다.</p>
            </div>
            <hr />
            <h3 class="home"><a href="https://lazyDev500.github.io">HOME</a></h3>
            <hr />
            
            <h3 class="category" onclick="foldNavi()">카테고리</h3>
            <div class="navi">
                <ul class="root">

                    <li id="dt-1" onclick="foldNavi(1)">----- Javascript ----- (12)</li>
<ul id="dc-1" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/31">
<li id="p-31">• json객체와 Map()의 비교</li>
</a>
<a href="https://lazyDev500.github.io/post/32">
<li id="p-32">• 배열 생성 성능 비교</li>
</a>
<a href="https://lazyDev500.github.io/post/36">
<li id="p-36">• console 객체 활용하기</li>
</a>
<a href="https://lazyDev500.github.io/post/73">
<li id="p-73">• node 내장 객체와 내장 모듈 사용하기</li>
</a>
<li id="dt-11" onclick="foldNavi(11)">expressjs (0)</li>
<ul id="dc-11" class='dc-all' style="display: none;">

</ul>
<li id="dt-12" onclick="foldNavi(12)">Nestjs (0)</li>
<ul id="dc-12" class='dc-all' style="display: none;">

</ul>
<li id="dt-13" onclick="foldNavi(13)">Svelte (8)</li>
<ul id="dc-13" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/18">
<li id="p-18">• svelte Basic</li>
</a>
<a href="https://lazyDev500.github.io/post/19">
<li id="p-19">• svelte 속성</li>
</a>
<a href="https://lazyDev500.github.io/post/20">
<li id="p-20">• life cycle</li>
</a>
<a href="https://lazyDev500.github.io/post/21">
<li id="p-21">• runes</li>
</a>
<a href="https://lazyDev500.github.io/post/22">
<li id="p-22">• template Syntax</li>
</a>
<a href="https://lazyDev500.github.io/post/23">
<li id="p-23">• Directive</li>
</a>
<a href="https://lazyDev500.github.io/post/24">
<li id="p-24">• Runtime</li>
</a>
<a href="https://lazyDev500.github.io/post/68">
<li id="p-68">• setting svelte.config.js</li>
</a>

</ul>

</ul>
<li id="dt-2" onclick="foldNavi(2)">----- Java ----- (9)</li>
<ul id="dc-2" class='dc-all' style="display: none;">
<li id="dt-21" onclick="foldNavi(21)">Servlet (9)</li>
<ul id="dc-21" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/59">
<li id="p-59">• 1. Servlet 기초</li>
</a>
<a href="https://lazyDev500.github.io/post/60">
<li id="p-60">• 2. Servlet, Dao, Vo</li>
</a>
<a href="https://lazyDev500.github.io/post/61">
<li id="p-61">• 3. Model1 (JSP Controller)</li>
</a>
<a href="https://lazyDev500.github.io/post/62">
<li id="p-62">• 4. Model2 (Servlet Controller)</li>
</a>
<a href="https://lazyDev500.github.io/post/63">
<li id="p-63">• 5. servlet 생명주기</li>
</a>
<a href="https://lazyDev500.github.io/post/64">
<li id="p-64">• 6. 객체 범위 (Scope)</li>
</a>
<a href="https://lazyDev500.github.io/post/65">
<li id="p-65">• 7. JSTL & EL</li>
</a>
<a href="https://lazyDev500.github.io/post/66">
<li id="p-66">• 내장 객체 메소드 정리</li>
</a>
<a href="https://lazyDev500.github.io/post/67">
<li id="p-67">• JDBC(Java Database Connectivity)란?</li>
</a>

</ul>
<li id="dt-22" onclick="foldNavi(22)">Spring (0)</li>
<ul id="dc-22" class='dc-all' style="display: none;">

</ul>

</ul>
<li id="dt-3" onclick="foldNavi(3)">----- Infra ----- (1)</li>
<ul id="dc-3" class='dc-all' style="display: none;">
<li id="dt-31" onclick="foldNavi(31)">Docker (1)</li>
<ul id="dc-31" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/15">
<li id="p-15">• docker 기본 명령어 및 run 옵션 정리</li>
</a>

</ul>

</ul>
<li id="dt-4" onclick="foldNavi(4)">----- Database ----- (19)</li>
<ul id="dc-4" class='dc-all' style="display: none;">
<li id="dt-41" onclick="foldNavi(41)">MongoDB (6)</li>
<ul id="dc-41" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/39">
<li id="p-39">• MongoDB 소개 및 데이터 모델링</li>
</a>
<a href="https://lazyDev500.github.io/post/40">
<li id="p-40">• Database, Collection, Document 생성, 제거</li>
</a>
<a href="https://lazyDev500.github.io/post/41">
<li id="p-41">• Document Query(조회) - find()</li>
</a>
<a href="https://lazyDev500.github.io/post/42">
<li id="p-42">• find() 메소드의 활용 - sort, limit, skip</li>
</a>
<a href="https://lazyDev500.github.io/post/43">
<li id="p-43">• Document 수정 - update()</li>
</a>
<a href="https://lazyDev500.github.io/post/44">
<li id="p-44">• index 설정</li>
</a>

</ul>
<li id="dt-42" onclick="foldNavi(42)">Oracle (13)</li>
<ul id="dc-42" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/45">
<li id="p-45">• 1. 데이터 베이스 개념 및 기본 용어</li>
</a>
<a href="https://lazyDev500.github.io/post/46">
<li id="p-46">• 2. 데이터 유형</li>
</a>
<a href="https://lazyDev500.github.io/post/47">
<li id="p-47">• 3. 컬럼 및 로우의 선택</li>
</a>
<a href="https://lazyDev500.github.io/post/48">
<li id="p-48">• 4. 복합 조건 지정 및 데이터 정렬</li>
</a>
<a href="https://lazyDev500.github.io/post/49">
<li id="p-49">• 5. 문자, 숫자 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/50">
<li id="p-50">• 6. 날짜 연산 및 날짜 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/51">
<li id="p-51">• 7. 변환함수</li>
</a>
<a href="https://lazyDev500.github.io/post/52">
<li id="p-52">• 8. 일반함수</li>
</a>
<a href="https://lazyDev500.github.io/post/53">
<li id="p-53">• 9. 그룹 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/54">
<li id="p-54">• 10. 윈도우 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/55">
<li id="p-55">• 11. 조인 처리 과정 이해 및 기본 조인 문장</li>
</a>
<a href="https://lazyDev500.github.io/post/56">
<li id="p-56">• 12. 조인 문장 및 집합 연산자</li>
</a>
<a href="https://lazyDev500.github.io/post/57">
<li id="p-57">• 13. 서브쿼리</li>
</a>

</ul>

</ul>
<li id="dt-5" onclick="foldNavi(5)">심심한 개발자의 취미 개발 (11)</li>
<ul id="dc-5" class='dc-all' style="display: none;">
<li id="dt-51" onclick="foldNavi(51)">간단 블로그 만들기 (8)</li>
<ul id="dc-51" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/1">
<li id="p-1">• 블로그 개발 기획, 배포 일지</li>
</a>
<a href="https://lazyDev500.github.io/post/10">
<li id="p-10">• 0. 블로그 만들기 - 시작하며</li>
</a>
<a href="https://lazyDev500.github.io/post/13">
<li id="p-13">• 1. 블로그 만들기 - 폴더 탐색</li>
</a>
<a href="https://lazyDev500.github.io/post/16">
<li id="p-16">• 2. 블로그 만들기 - 마크다운 변환</li>
</a>
<a href="https://lazyDev500.github.io/post/17">
<li id="p-17">• 3. 블로그 만들기 - 리펙토링</li>
</a>
<a href="https://lazyDev500.github.io/post/34">
<li id="p-34">• 1. 블로그 만들기 외전 - 애플 단축어 활용</li>
</a>
<a href="https://lazyDev500.github.io/post/35">
<li id="p-35">• 2. 블로그 만들기 외전 - 외부 빌드 스크립트 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/71">
<li id="p-71">• 4. 블로그 만들기 - 목차</li>
</a>

</ul>
<li id="dt-52" onclick="foldNavi(52)">개발 팁 (3)</li>
<ul id="dc-52" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/3">
<li id="p-3">• vim 에디터 정리</li>
</a>
<a href="https://lazyDev500.github.io/post/58">
<li id="p-58">• 자주쓰는 git/git-flow 명령어</li>
</a>
<a href="https://lazyDev500.github.io/post/69">
<li id="p-69">• curl 명령어 사용법 정리</li>
</a>

</ul>

</ul>
<li id="dt-6" onclick="foldNavi(6)">자취생 밥 만들어 먹기 (21)</li>
<ul id="dc-6" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/27">
<li id="p-27">• 내돈 내산 양념/조미료 사용 후기</li>
</a>
<a href="https://lazyDev500.github.io/post/33">
<li id="p-33">• 전자레인지로 밥 짓기</li>
</a>
<li id="dt-61" onclick="foldNavi(61)">5첩 반상을 위한 밑반찬 (3)</li>
<ul id="dc-61" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/5">
<li id="p-5">• 겉절이 김치</li>
</a>
<a href="https://lazyDev500.github.io/post/7">
<li id="p-7">• 고추다대기</li>
</a>
<a href="https://lazyDev500.github.io/post/11">
<li id="p-11">• 김짱아치</li>
</a>

</ul>
<li id="dt-62" onclick="foldNavi(62)">밥의 영혼의 단짝 국, 소스 (5)</li>
<ul id="dc-62" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/2">
<li id="p-2">• 미역국</li>
</a>
<a href="https://lazyDev500.github.io/post/4">
<li id="p-4">• 양배추 강된장</li>
</a>
<a href="https://lazyDev500.github.io/post/6">
<li id="p-6">• 진한 카레</li>
</a>
<a href="https://lazyDev500.github.io/post/9">
<li id="p-9">• 계란국</li>
</a>
<a href="https://lazyDev500.github.io/post/14">
<li id="p-14">• 짜장소스</li>
</a>

</ul>
<li id="dt-63" onclick="foldNavi(63)">삶의 에너지 고기(육식) (6)</li>
<ul id="dc-63" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/8">
<li id="p-8">• 국물 두루치기</li>
</a>
<a href="https://lazyDev500.github.io/post/12">
<li id="p-12">• 삼겹살 덮밥</li>
</a>
<a href="https://lazyDev500.github.io/post/26">
<li id="p-26">• 전자레인지로 대패 삼겹살 솥밥 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/30">
<li id="p-30">• 멍게 비빔밥 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/37">
<li id="p-37">• 제육볶음</li>
</a>
<a href="https://lazyDev500.github.io/post/72">
<li id="p-72">• 멍게 무침</li>
</a>

</ul>
<li id="dt-64" onclick="foldNavi(64)">면 러버의 면 사랑 요리 (5)</li>
<ul id="dc-64" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/25">
<li id="p-25">• 내 멋대로 알리오 올리오</li>
</a>
<a href="https://lazyDev500.github.io/post/28">
<li id="p-28">• 라면 요리 - 마요네즈 비빔 라면</li>
</a>
<a href="https://lazyDev500.github.io/post/29">
<li id="p-29">• 들기름 막국수</li>
</a>
<a href="https://lazyDev500.github.io/post/38">
<li id="p-38">• 고추 기름 비빔면</li>
</a>
<a href="https://lazyDev500.github.io/post/70">
<li id="p-70">• 라면 요리 - 마늘 해장 라면</li>
</a>

</ul>

</ul>

                </ul>
            </div>

            <div class="copyright">
                <img class="img"
                    src="https://lazyDev500.github.io/assets/img/github-mark-white.svg"
                    alt="" srcset="">
                <a href="https://github.com/BallboyDev/ballboyDev.github.io" target="_blank">Designed by ballboyDev</a>
            </div>

        </div>

        <!-- contents component -->
        <div id="contents">

            <div class="bookmark">

            <div class="title t1">
                <div><a href="#bm-1"># 4. 블로그 만들기 - 목차</a></div>
                <p>•</p>
            </div>

            <div class="title t2">
                <div><a href="#bm-4">## 기획</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-7">### 목차 타이틀 선택</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-10">### 타이틀 선택 코드 분석</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-15">### 커스텀 변환 코드</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-19">### Bookmark 코드</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-23">### 최종 완성 디자인</a></div>
                <p>•</p>
            </div></div>
            
            
<a href="https://lazyDev500.github.io/post/17.html" class="prev post">
    <img src="https://lazyDev500.github.io/assets/img/prev.svg" alt="" srcset="">
</a>
    
            
            
            
            <div class="main markdown-body">

                <h1 id="bm-1">4. 블로그 만들기 - 목차</h1><p>나만의 블로그가 어느 정도 궤도에 올라왔다는 생각이 든다.
꾸준히 글을 올리고 있고 개인 취향이지만 디자인도 개선 되고 있고 계속 해서 추가적인 기능도 개속 탑제 되고 개선 되고 있다.
이번에는 포스트에서의 글의 빠른 이동을 위한 목차 기능을 만들었다.</p>
<h2 id="bm-4">기획</h2><ol>
<li>a 태그와 태그의 id 설정을 통해 페이지 위치 이동 기능 사용</li>
<li>마크다운 포스팅 글에서 목차 타이틀 선택 및 리스트 저장</li>
<li>저장된 리스트 기반으로 목차 제작</li>
<li>타이틀 변환시 id값 설정</li>
</ol>
<h3 id="bm-7">목차 타이틀 선택</h3><ul>
<li>먼저 목차로 이동할 타이틀, 즉 헤더를 선택해야 한다.
나는 마크다운 헤더 중 &#39;#&#39;, &#39;##&#39;, &#39;###&#39; 이 3가지 헤더를 목차로 지정하기로 했다.</li>
<li>기존에는 마크다운 파일을 읽어 마크 다운 텍스트를 기초 json 데이터로 저장 후 텍스트를 곧 바로 HTML 코드로 변환하는 프로세스를 거쳤다.</li>
<li>이번에 개선된 방식은 마크다운 텍스트와 HTML 코드 변환 과정 사이에 토큰 이라는 데이터 생성 과정이 추가가 되었다. 마크다운 텍스트를 읽어 HTML 변환을 위한 데이터 Object인 token 데이터를 생성하여 저장하고 추후 저장된 token을 활용하여 HTML 코드를 제작 하는 방식이다.</li>
<li>이러한 방식을 채택한 이유는 마크 다운 코드에서 token을 생성할때 타이틀에 들어갈 id값 생성에 필요한 데이터 값이다 추가 적인 데이터를 함께 탑재해 HTML 코드 변환에 활용 할 수 있기 때문이다.</li>
</ul>
<h3 id="bm-10">타이틀 선택 코드 분석</h3><pre class="theme-atom-one-dark"><code class="language-js"><span class="hljs-comment">// (1)</span>
<span class="hljs-keyword">const</span> token = marked.<span class="hljs-title function_">lexer</span>(mdFile.<span class="hljs-property">content</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">v, i</span>) =&gt;</span> { <span class="hljs-keyword">return</span> { <span class="hljs-attr">index</span>: i, ...v } })

...

<span class="hljs-keyword">const</span> item = {
    ...,
    <span class="hljs-comment">// (2)</span>
    <span class="hljs-attr">bookmark</span>: token.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> { <span class="hljs-keyword">return</span> v.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;heading&#x27;</span> })
}</code></pre><ul>
<li><p>(1)</p>
<ul>
<li>마크다운 텍스트 데이터를 분해하여 token 데이터로 변환하고 token 데이터 중 최상위 데이터에 index 값은 부여 한다.</li>
</ul>
</li>
<li><p>(2)</p>
<ul>
<li>생성된 최상위 토큰 중 type이 heading, 즉 &#39;#&#39;, &#39;##&#39;, &#39;###&#39; 로 작성된 내용을 걸러 내어 bookmark라는 데이터로 뽑아 낸다.</li>
</ul>
</li>
</ul>
<h3 id="bm-15">커스텀 변환 코드</h3><pre class="theme-atom-one-dark"><code class="language-js"><span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> marked.<span class="hljs-title class_">Renderer</span>()

renderer.<span class="hljs-property">heading</span> = <span class="hljs-function">(<span class="hljs-params">token</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;h<span class="hljs-subst">${token.depth}</span> id=&quot;bm-<span class="hljs-subst">${token.index}</span>&quot;&gt;<span class="hljs-subst">${token.text}</span>&lt;/h<span class="hljs-subst">${token.depth}</span>&gt;`</span>
}

<span class="hljs-comment">/*
{
    index: 15,
    type: &#x27;heading&#x27;,
    raw: &#x27;### 커스텀 변환 코드\n&#x27;,
    depth: 3,
    text: &#x27;커스텀 변환 코드&#x27;,
    tokens: [
        {
            type: &#x27;text&#x27;,
            raw: &#x27;커스텀 변환 코드&#x27;,
            text: &#x27;커스텀 변환 코드&#x27;,
            escaped: false
        }
    ]
}
*/</span></code></pre><ul>
<li>기본적으로 h태그 변환 코드는 동일하지만 이전에 추가 되었던 index 값으로 id 값을 생성한다.</li>
</ul>
<h3 id="bm-19">Bookmark 코드</h3><pre class="theme-atom-one-dark"><code class="language-js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">bookmark</span> = (<span class="hljs-params">param</span>) =&gt; {

    <span class="hljs-keyword">const</span> html = param.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${a}</span>\n<span class="hljs-subst">${<span class="hljs-string">`
            &lt;div class=&quot;title t<span class="hljs-subst">${b.depth}</span>&quot;&gt;
                &lt;div&gt;&lt;a href=&quot;#bm-<span class="hljs-subst">${b.index}</span>&quot;&gt;<span class="hljs-subst">${b.raw.replace(<span class="hljs-string">&#x27;\n&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)}</span>&lt;/a&gt;&lt;/div&gt;
                &lt;p&gt;•&lt;/p&gt;
            &lt;/div&gt;`</span>}</span>`</span>
    }, <span class="hljs-string">&#x27;&#x27;</span>)

    <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;div class=&quot;bookmark&quot;&gt;<span class="hljs-subst">${html}</span>&lt;/div&gt;`</span>
}</code></pre><ul>
<li>기존에 생성되었던 item.bookmark 리스트 데이터를 기반으로 북마크 코드를 생성한다.</li>
</ul>
<h3 id="bm-23">최종 완성 디자인</h3><p><img src="https://lazyDev500.github.io/assets/img/71_1.png" alt="북마크 최종 완성 디자인"></p>


            </div>

            <script src="https://utteranc.es/client.js"
                repo="ballboyDev/personal-storage"
                issue-term="pathname"
                label="comments"
                theme="github-dark"
                crossorigin="anonymous"
                async>
            </script>
        </div>

        
    </div>
</body>

</html>
    