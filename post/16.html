
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jrh7qB1kgowvnvE0P3KqlhI-iNmw9CvGJF4dQsaCTAk" />
    <meta name="naver-site-verification" content="6fe49ccdb8613221b89ae2d580300c63a91af446" />
    
    
<link rel="icon" href="https://lazyDev500.github.io/assets/img/bDev.ico">
<link rel="stylesheet" href="https://lazyDev500.github.io/assets/markdown.css">
<link rel="stylesheet" href="https://lazyDev500.github.io/assets/skin.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

<style>
    #p-16 {
        color: rgb(76, 193, 237) !important;
    }
</style>
<script id="data" type="application/json">
{
    "fold": ["5","51"]
}
</script>

<script src="https://lazyDev500.github.io/assets/skin.js"></script>
    

    <title>2. 블로그 만들기 - 마크다운 변환</title>
</head>

<body>
    <div id="wrapper">
        <!-- side bar component -->
        <div id="head-bar">
            <img id="openNavi" class="img"
                src="https://lazyDev500.github.io/assets/img/profile.jpeg"
                alt="" srcset="">
            <div class="title">심심한 개발자의 취미생활</div>
        </div>
        <div id="side-bar">
            <img id="closeNavi" class="close"
                src="https://lazyDev500.github.io/assets/img/close.svg"
                alt="" srcset="">
            <div class="profile">
                <img class="img" src="https://lazyDev500.github.io/assets/img/profile.jpeg" alt="" srcset="">
                <p>심심한 개발자의 취미생활</p>
                <p>환영합니다.</p>
            </div>
            <hr />
            <h3 class="home"><a href="https://lazyDev500.github.io">HOME</a></h3>
            <hr />
            
            <h3 class="category" onclick="foldNavi()">카테고리</h3>
            <div class="navi">
                <ul class="root">

                    <li id="dt-1" onclick="foldNavi(1)">----- Javascript ----- (12)</li>
<ul id="dc-1" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/31">
<li id="p-31">• json객체와 Map()의 비교</li>
</a>
<a href="https://lazyDev500.github.io/post/32">
<li id="p-32">• 배열 생성 성능 비교</li>
</a>
<a href="https://lazyDev500.github.io/post/36">
<li id="p-36">• console 객체 활용하기</li>
</a>
<a href="https://lazyDev500.github.io/post/73">
<li id="p-73">• node 내장 객체와 내장 모듈 사용하기</li>
</a>
<li id="dt-11" onclick="foldNavi(11)">expressjs (0)</li>
<ul id="dc-11" class='dc-all' style="display: none;">

</ul>
<li id="dt-12" onclick="foldNavi(12)">Nestjs (0)</li>
<ul id="dc-12" class='dc-all' style="display: none;">

</ul>
<li id="dt-13" onclick="foldNavi(13)">Svelte (8)</li>
<ul id="dc-13" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/18">
<li id="p-18">• svelte Basic</li>
</a>
<a href="https://lazyDev500.github.io/post/19">
<li id="p-19">• svelte 속성</li>
</a>
<a href="https://lazyDev500.github.io/post/20">
<li id="p-20">• life cycle</li>
</a>
<a href="https://lazyDev500.github.io/post/21">
<li id="p-21">• runes</li>
</a>
<a href="https://lazyDev500.github.io/post/22">
<li id="p-22">• template Syntax</li>
</a>
<a href="https://lazyDev500.github.io/post/23">
<li id="p-23">• Directive</li>
</a>
<a href="https://lazyDev500.github.io/post/24">
<li id="p-24">• Runtime</li>
</a>
<a href="https://lazyDev500.github.io/post/68">
<li id="p-68">• setting svelte.config.js</li>
</a>

</ul>

</ul>
<li id="dt-2" onclick="foldNavi(2)">----- Java ----- (9)</li>
<ul id="dc-2" class='dc-all' style="display: none;">
<li id="dt-21" onclick="foldNavi(21)">Servlet (9)</li>
<ul id="dc-21" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/59">
<li id="p-59">• 1. Servlet 기초</li>
</a>
<a href="https://lazyDev500.github.io/post/60">
<li id="p-60">• 2. Servlet, Dao, Vo</li>
</a>
<a href="https://lazyDev500.github.io/post/61">
<li id="p-61">• 3. Model1 (JSP Controller)</li>
</a>
<a href="https://lazyDev500.github.io/post/62">
<li id="p-62">• 4. Model2 (Servlet Controller)</li>
</a>
<a href="https://lazyDev500.github.io/post/63">
<li id="p-63">• 5. servlet 생명주기</li>
</a>
<a href="https://lazyDev500.github.io/post/64">
<li id="p-64">• 6. 객체 범위 (Scope)</li>
</a>
<a href="https://lazyDev500.github.io/post/65">
<li id="p-65">• 7. JSTL & EL</li>
</a>
<a href="https://lazyDev500.github.io/post/66">
<li id="p-66">• 내장 객체 메소드 정리</li>
</a>
<a href="https://lazyDev500.github.io/post/67">
<li id="p-67">• JDBC(Java Database Connectivity)란?</li>
</a>

</ul>
<li id="dt-22" onclick="foldNavi(22)">Spring (0)</li>
<ul id="dc-22" class='dc-all' style="display: none;">

</ul>

</ul>
<li id="dt-3" onclick="foldNavi(3)">----- Infra ----- (1)</li>
<ul id="dc-3" class='dc-all' style="display: none;">
<li id="dt-31" onclick="foldNavi(31)">Docker (1)</li>
<ul id="dc-31" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/15">
<li id="p-15">• docker 기본 명령어 및 run 옵션 정리</li>
</a>

</ul>

</ul>
<li id="dt-4" onclick="foldNavi(4)">----- Database ----- (19)</li>
<ul id="dc-4" class='dc-all' style="display: none;">
<li id="dt-41" onclick="foldNavi(41)">MongoDB (6)</li>
<ul id="dc-41" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/39">
<li id="p-39">• MongoDB 소개 및 데이터 모델링</li>
</a>
<a href="https://lazyDev500.github.io/post/40">
<li id="p-40">• Database, Collection, Document 생성, 제거</li>
</a>
<a href="https://lazyDev500.github.io/post/41">
<li id="p-41">• Document Query(조회) - find()</li>
</a>
<a href="https://lazyDev500.github.io/post/42">
<li id="p-42">• find() 메소드의 활용 - sort, limit, skip</li>
</a>
<a href="https://lazyDev500.github.io/post/43">
<li id="p-43">• Document 수정 - update()</li>
</a>
<a href="https://lazyDev500.github.io/post/44">
<li id="p-44">• index 설정</li>
</a>

</ul>
<li id="dt-42" onclick="foldNavi(42)">Oracle (13)</li>
<ul id="dc-42" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/45">
<li id="p-45">• 1. 데이터 베이스 개념 및 기본 용어</li>
</a>
<a href="https://lazyDev500.github.io/post/46">
<li id="p-46">• 2. 데이터 유형</li>
</a>
<a href="https://lazyDev500.github.io/post/47">
<li id="p-47">• 3. 컬럼 및 로우의 선택</li>
</a>
<a href="https://lazyDev500.github.io/post/48">
<li id="p-48">• 4. 복합 조건 지정 및 데이터 정렬</li>
</a>
<a href="https://lazyDev500.github.io/post/49">
<li id="p-49">• 5. 문자, 숫자 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/50">
<li id="p-50">• 6. 날짜 연산 및 날짜 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/51">
<li id="p-51">• 7. 변환함수</li>
</a>
<a href="https://lazyDev500.github.io/post/52">
<li id="p-52">• 8. 일반함수</li>
</a>
<a href="https://lazyDev500.github.io/post/53">
<li id="p-53">• 9. 그룹 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/54">
<li id="p-54">• 10. 윈도우 함수</li>
</a>
<a href="https://lazyDev500.github.io/post/55">
<li id="p-55">• 11. 조인 처리 과정 이해 및 기본 조인 문장</li>
</a>
<a href="https://lazyDev500.github.io/post/56">
<li id="p-56">• 12. 조인 문장 및 집합 연산자</li>
</a>
<a href="https://lazyDev500.github.io/post/57">
<li id="p-57">• 13. 서브쿼리</li>
</a>

</ul>

</ul>
<li id="dt-5" onclick="foldNavi(5)">심심한 개발자의 취미 개발 (11)</li>
<ul id="dc-5" class='dc-all' style="display: none;">
<li id="dt-51" onclick="foldNavi(51)">간단 블로그 만들기 (8)</li>
<ul id="dc-51" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/1">
<li id="p-1">• 블로그 개발 기획, 배포 일지</li>
</a>
<a href="https://lazyDev500.github.io/post/10">
<li id="p-10">• 0. 블로그 만들기 - 시작하며</li>
</a>
<a href="https://lazyDev500.github.io/post/13">
<li id="p-13">• 1. 블로그 만들기 - 폴더 탐색</li>
</a>
<a href="https://lazyDev500.github.io/post/16">
<li id="p-16">• 2. 블로그 만들기 - 마크다운 변환</li>
</a>
<a href="https://lazyDev500.github.io/post/17">
<li id="p-17">• 3. 블로그 만들기 - 리펙토링</li>
</a>
<a href="https://lazyDev500.github.io/post/34">
<li id="p-34">• 1. 블로그 만들기 외전 - 애플 단축어 활용</li>
</a>
<a href="https://lazyDev500.github.io/post/35">
<li id="p-35">• 2. 블로그 만들기 외전 - 외부 빌드 스크립트 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/71">
<li id="p-71">• 4. 블로그 만들기 - 목차</li>
</a>

</ul>
<li id="dt-52" onclick="foldNavi(52)">개발 팁 (3)</li>
<ul id="dc-52" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/3">
<li id="p-3">• vim 에디터 정리</li>
</a>
<a href="https://lazyDev500.github.io/post/58">
<li id="p-58">• 자주쓰는 git/git-flow 명령어</li>
</a>
<a href="https://lazyDev500.github.io/post/69">
<li id="p-69">• curl 명령어 사용법 정리</li>
</a>

</ul>

</ul>
<li id="dt-6" onclick="foldNavi(6)">자취생 밥 만들어 먹기 (21)</li>
<ul id="dc-6" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/27">
<li id="p-27">• 내돈 내산 양념/조미료 사용 후기</li>
</a>
<a href="https://lazyDev500.github.io/post/33">
<li id="p-33">• 전자레인지로 밥 짓기</li>
</a>
<li id="dt-61" onclick="foldNavi(61)">5첩 반상을 위한 밑반찬 (3)</li>
<ul id="dc-61" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/5">
<li id="p-5">• 겉절이 김치</li>
</a>
<a href="https://lazyDev500.github.io/post/7">
<li id="p-7">• 고추다대기</li>
</a>
<a href="https://lazyDev500.github.io/post/11">
<li id="p-11">• 김짱아치</li>
</a>

</ul>
<li id="dt-62" onclick="foldNavi(62)">밥의 영혼의 단짝 국, 소스 (5)</li>
<ul id="dc-62" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/2">
<li id="p-2">• 미역국</li>
</a>
<a href="https://lazyDev500.github.io/post/4">
<li id="p-4">• 양배추 강된장</li>
</a>
<a href="https://lazyDev500.github.io/post/6">
<li id="p-6">• 진한 카레</li>
</a>
<a href="https://lazyDev500.github.io/post/9">
<li id="p-9">• 계란국</li>
</a>
<a href="https://lazyDev500.github.io/post/14">
<li id="p-14">• 짜장소스</li>
</a>

</ul>
<li id="dt-63" onclick="foldNavi(63)">삶의 에너지 고기(육식) (6)</li>
<ul id="dc-63" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/8">
<li id="p-8">• 국물 두루치기</li>
</a>
<a href="https://lazyDev500.github.io/post/12">
<li id="p-12">• 삼겹살 덮밥</li>
</a>
<a href="https://lazyDev500.github.io/post/26">
<li id="p-26">• 전자레인지로 대패 삼겹살 솥밥 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/30">
<li id="p-30">• 멍게 비빔밥 만들기</li>
</a>
<a href="https://lazyDev500.github.io/post/37">
<li id="p-37">• 제육볶음</li>
</a>
<a href="https://lazyDev500.github.io/post/72">
<li id="p-72">• 멍게 무침</li>
</a>

</ul>
<li id="dt-64" onclick="foldNavi(64)">면 러버의 면 사랑 요리 (5)</li>
<ul id="dc-64" class='dc-all' style="display: none;">
<a href="https://lazyDev500.github.io/post/25">
<li id="p-25">• 내 멋대로 알리오 올리오</li>
</a>
<a href="https://lazyDev500.github.io/post/28">
<li id="p-28">• 라면 요리 - 마요네즈 비빔 라면</li>
</a>
<a href="https://lazyDev500.github.io/post/29">
<li id="p-29">• 들기름 막국수</li>
</a>
<a href="https://lazyDev500.github.io/post/38">
<li id="p-38">• 고추 기름 비빔면</li>
</a>
<a href="https://lazyDev500.github.io/post/70">
<li id="p-70">• 라면 요리 - 마늘 해장 라면</li>
</a>

</ul>

</ul>

                </ul>
            </div>

            <div class="copyright">
                <img class="img"
                    src="https://lazyDev500.github.io/assets/img/github-mark-white.svg"
                    alt="" srcset="">
                <a href="https://github.com/BallboyDev/ballboyDev.github.io" target="_blank">Designed by ballboyDev</a>
            </div>

        </div>

        <!-- contents component -->
        <div id="contents">

            <div class="bookmark">

            <div class="title t1">
                <div><a href="#bm-1"># 2. 블로그 만들기 - 마크다운 변환</a></div>
                <p>•</p>
            </div>

            <div class="title t2">
                <div><a href="#bm-4">## 작업 내용</a></div>
                <p>•</p>
            </div>

            <div class="title t2">
                <div><a href="#bm-9">## 마크다운과 HTML의 변환</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-10">### 마크다운이란?</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-13">### 변환 모듈</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-16">### 변환 코드</a></div>
                <p>•</p>
            </div>

            <div class="title t3">
                <div><a href="#bm-25">### 개선될 변환 코드</a></div>
                <p>•</p>
            </div></div>
            
            
<a href="https://lazyDev500.github.io/post/13.html" class="prev post">
    <img src="https://lazyDev500.github.io/assets/img/prev.svg" alt="" srcset="">
</a>
    
            
            
<a href="https://lazyDev500.github.io/post/17.html" class="next post">
    <img src="https://lazyDev500.github.io/assets/img/next.svg" alt="" srcset="">
</a>
    
            
            <div class="main markdown-body">

                <h1 id="bm-1">2. 블로그 만들기 - 마크다운 변환</h1><p>블로그 만들기 핵심 기능 2번째 마크다운 변환 관련 이다.
정확하게 말하자면 마크다운으로 작성된 포스팅을 HTML 코드로 변환하며 HTML 페이지를 생성하는 과정을 의미한다.</p>
<h2 id="bm-4">작업 내용</h2><p>작업 내용은 다음과 같이 3단계를 거치게 된다. 그중 이 포스팅에서는 두번째 과정만을 다루고 더 상세한 내용은 다음 포스팅에서 다룬다.</p>
<ol>
<li>첫번째는 앞서 포스팅한 트리 탐색을 통한 네비게이션 코드의 생성이다.</li>
<li>두번째는 탐색을 진행하는 과정에서 얻어진 포스팅 파일의 마크다운 데이터를 HTML 코드로의 변환이다<ul>
<li>해당 과정에서는 컨텐츠 내부에 작성되어 있는 메타 데이터를 통해 prev/next page의 이동과 페이지별 css 변경을 위한 메타 데이터가 생성된다.</li>
</ul>
</li>
<li>마지막으로 제작된 네비게이션과 포스팅 내용을 통합하여 완성된 HTML 페이지 코드의 제작과 CSS 변경, .html 파일 생성 작업이다.</li>
</ol>
<h2 id="bm-9">마크다운과 HTML의 변환</h2><h3 id="bm-10">마크다운이란?</h3><p>우선 마크다운은 텍스트 기반의 마크업 언어로 쉬운 읽기과 쓰기를 지원하며 HTML과 대응하여 변환 가능한 문법이 특징이다.
특수기호와 문자를 이용한 매우 간단하고 직관적인 문법을 사용하여 빠르게 컨텐츠를 작성할 수 있다.
다만 마크다운 언어는 국제적인 표준이 없기 때문에 변환 툴이나 사이트에 따라 결과물이 달라 질 수 있으며 HTML 보다는 세부적인 부분에 대해서는 표현이 불가능 하다.</p>
<h3 id="bm-13">변환 모듈</h3><p>나는 다양한 마크다운 변환 모듈를 사용해 본 결과 최종적으로 &#39;marked&#39; 모듈를 사용하고 있다. 대부분의 모듈이 비슷한 성능을 제공하지만 선택한 이유는 우선 사용법이 간단하고, 마크다운 문서 내부에서 HTML 코드를 지원한다는 점이다.
마크다운은 HTML과 대응하여 변환이 가능하지만 앞서 말한것과 같이 HTML 처럼 세부적인 디자인은 어려운 부분이 많기에 마크다운 문서에서 HTML 코드를 작성하는 경우가 종종 있다.
타 모듈에서는 HTML 태그의 &#39;&lt;&#39;, &#39;&gt;&#39;를 특수기호로 인식해 HTML 문자 엔티티로 변환해버려 HTML 태그를 사용할 수 없었으나 &#39;marked&#39;에서는 정상적으로 변환이 가능하여 선택하게 되었다.</p>
<h3 id="bm-16">변환 코드</h3><ul>
<li>사실 변환 코드는 너무나 간단하다. &#39;fs.readFile()&#39;함수를 이용하여 마크다운 파일의 내용을 읽어와 &#39;marked.parse()&#39;를 사용하여 html 코드를 생성한다.</li>
</ul>
<pre class="theme-atom-one-dark"><code class="language-js"><span class="hljs-keyword">const</span> markdown = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&#x27;index.md&#x27;</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>)
<span class="hljs-keyword">const</span> html = marked.<span class="hljs-title function_">parse</span>(markdown)</code></pre><ul>
<li>하지만 마크다운 만으로는 포스팅은 가능하지만 블로그의 기능을 구현하기 위해서는 다양한 이벤트와 기능적인 코드가 필요하다. 그러한 작업을 위한 메타데이터와 일부 코드의 수정이 위 코드에서 함께 이루어진다.</li>
</ul>
<pre class="theme-atom-one-dark"><code class="language-js"><span class="hljs-keyword">let</span> markdown = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">`<span class="hljs-subst">${root}</span>/<span class="hljs-subst">${v}</span>`</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>).<span class="hljs-title function_">trim</span>()

<span class="hljs-comment">// 마크다운에서 코드 작성 문법인 &#x27;```&#x27; 문자열의 모든 위치를 리스트화</span>
<span class="hljs-keyword">const</span> point = [...markdown.<span class="hljs-title function_">matchAll</span>(<span class="hljs-regexp">/```/g</span>)].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> { <span class="hljs-keyword">return</span> v.<span class="hljs-property">index</span> })

<span class="hljs-comment">// 찾아낸 &#x27;```&#x27; 문자열 위치를 활용하여 내부 코드 추출</span>
<span class="hljs-keyword">const</span> tempData = markdown.<span class="hljs-title function_">substring</span>(point[<span class="hljs-number">0</span>], point[<span class="hljs-number">1</span>] + <span class="hljs-number">3</span>)

<span class="hljs-comment">// JSON으로 작성된 추출한 코드 데이터를 이후 블로그 페이지 생성을 위한 메타 데이터로 활용</span>
convertData[<span class="hljs-string">&#x27;metaData&#x27;</span>] = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(tempData.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;```json&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;```&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>))

<span class="hljs-comment">// 변환된 HTML 코드에서 이미지와 같이 외부 파일을 참조하는 경우 배포/개발환경에 따른 알맞은 위치의 폴더를 참조하도록 코드 수정</span>
convertData[<span class="hljs-string">&#x27;mdFile&#x27;</span>] = marked.<span class="hljs-title function_">parse</span>(markdown.<span class="hljs-title function_">replace</span>(tempData, <span class="hljs-string">&#x27;&#x27;</span>)).<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/(?&lt;=&quot;)[^&quot;]*(?=image)/g</span>, <span class="hljs-string">`<span class="hljs-subst">${json[process.env.NODE_ENV].url}</span>/`</span>)</code></pre><h3 id="bm-25">개선될 변환 코드</h3><p>사실 나의 블로그를 만드는데 가능한 외부 라이브러리를 사용하는 것을 지양하고 싶다. 차후 마크다운의 변환 모듈을 직접 개발할 계획이며 위코드에서 덕지덕지 붙어 있는 &#39;replaceAll&#39; 코드들을 조금 유지보수가 간편한 모듈화를 이루고자 한다.</p>


            </div>

            <script src="https://utteranc.es/client.js"
                repo="ballboyDev/personal-storage"
                issue-term="pathname"
                label="comments"
                theme="github-dark"
                crossorigin="anonymous"
                async>
            </script>
        </div>

        
    </div>
</body>

</html>
    